<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Sort</title>

<script>
	//입력 받아서 sort 해보기

	//생성자를 먼저 만든다
	var Data = function(name, score, age) {
		this.name = name;
		this.score = score;
		this.age = age;

		this.disp = function() {
			document.write(this.name + ":" + this.score + ":" + this.age
					+ "<br/>");
		};
	}

	//데이터 생성
	var list = [ new Data("포터", 50, 13), new Data("위즐리", 48, 14),
			new Data("그레인저", 99, 15) ];

	//정렬을 위한 함수 만들어보기
	var nameCompare = function(left, right) {
		if (left.name > right.name) {
			return 1;
		} else if (left.name < right.name) {
			return -1;
		} else {
			return 0;
		}
	}

	var scoreCompare = function(left, right) {
		return left.score - right.score;
	}

	var ageCompare = function(left, right) {
		return left.age - right.age;
	}

	// prompt로 입력을 받아서 해당하는 메뉴의 sort를 바꿔주기

	var menu = prompt("정렬할 옵션을 선택하세요(1.이름 2.점수 3.나이)");

	switch (menu) {
	case 1:
		list.sort(nameCompare);
		break;
	case 2:
		document.write(scoreCompare);
		break;
	case 3:
		document.write(ageCompare);
		break;
	}

	//출력해보기
	for ( var imsi in list) {
		list[imsi].disp();
	}
	
	//-----------------------------------------------------------------//
	
	// 배열의 모든 요소를 함수의 매개변수로 대입해서 함수를 실행
	var x = [30, 23, 76, 72]
	x.forEach(function(arg){
		alert(arg);
	})
	
	//배열의 모든 요소를 특정 조건을 걸어서 매개변수로 대입해 함수의 리턴값이 true인 데이터만 출력
	var o = x.filter(function(arg){return arg %2 ==0;})
	alert(o);
	
	//배열의 모든 요소를 함수의 매개변수로 대입해서 함수의 리턴값을 가지고 새로운 배열 리턴
	o = x.map(function(arg){return arg+10;})
	alert(o);
	
	//JSON 형식의 문자열 생성 - 객체를 만들고 그 안에 name이라는 속성에 값을 대입하는 형태
	var str = "{\"name\":\"Granger\"}";
	//json 파싱
	var jsonobj = JSON.parse(str);
	alert(jsonobj.name);
	
</script>
</head>
<body>

</body>
</html>